title: 拆箱空指针异常
author: xdkxlk
tags: []
categories:
  - Java
date: 2018-10-29 11:23:00
---
# 背景
项目里面用了一个参数校验的工具类，里面有个方法大致上是这样子的
```java
public static void checkParameter(boolean expression, String errorMsg) {
    if (!expression) {
        throw new ParameterException(errorMsg);
    }
}
```
然后报了空指针异常
# 原因
由于调用的时候出现了类似这个的写法
```java
Boolean b = null;
checkParameter(b, "msg");
```
这里b是一个<code>Boolean</code>类，而参数是<code>boolean</code>类型，所以，在自动拆箱的时候报了空指针异常
# 解决
```java
public static void checkParameter(Boolean expression, String errorMsg) {
    if (expression == null || !expression) {
        throw new ParameterException(errorMsg);
    }
}
```
